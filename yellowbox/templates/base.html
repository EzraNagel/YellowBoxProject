<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Yellow Bucket{% endblock %}</title>
</head>

<header>
    {% include 'navbar.html' %}
</header>

<body>
    <section class="section">
        <div class="container">
            <main>
                {% block body %}
                <h1 class="title">Welcome to Yellow Bucket!</h1>

                <div class="display-posters"><strong>Top 20 Movies:</strong></div>
                <ul>
                    {% for movie, average_rating in movies %}
                    <li><a href="{{ url_for('movie_detail', movie_id=movie.id) }}">{{ movie.title }} - Average Rating:
                            {{ average_rating | round(2) }}</a> <img
                            src="https://image.tmdb.org/t/p/original{{ movie.poster_path }}" alt="movie poster"
                            width="50"></li>

                    {% endfor %}
                </ul>

                <h2 class="title">Search for Movies</h2>
                <h5>Select search criteria below or leave all fields blank to view all movies</h5>
                <br />
                <form method="GET" action="{{ url_for('movies_search_results') }}">
                    <label for="title">Title:</label>
                    <input type="text" id="title" name="title" oninput="fetchSuggestions(this.value)"
                        autocomplete="off">
                    <div id="suggestions" style="border: 1px solid #ccc; display: none;"></div>

                    <label for="run_time_min">Runtime Min:</label>
                    <input type="number" id="run_time_min" name="run_time_min">

                    <label for="run_time_max">Runtime Max:</label>
                    <input type="number" id="run_time_max" name="run_time_max">

                    <label for="popularity_min">Popularity Min:</label>
                    <input type="number" step="0.1" id="popularity_min" name="popularity_min">

                    <label for="popularity_max">Popularity Max:</label>
                    <input type="number" step="0.1" id="popularity_max" name="popularity_max">

                    <label for="release_date_min">Release Date From:</label>
                    <input type="date" id="release_date_min" name="release_date_min">

                    <label for="release_date_max">Release Date To:</label>
                    <input type="date" id="release_date_max" name="release_date_max">

                    <label for="rating_min">Rating Min:</label>
                    <input type="number" step="0.1" id="rating_min" name="rating_min">

                    <label for="rating_max">Rating Max:</label>
                    <input type="number" step="0.1" id="rating_max" name="rating_max">

                    <button type="submit">Search</button>
                </form>



                <div class="display-collections"><strong>All Collections:</strong></div>
                <ul>
                    {% for collection in collections %}
                    <li>
                        {{ collection.name }}
                        <img src="https://image.tmdb.org/t/p/original{{ collection.poster_path }}"
                            alt="{{ collection.name }}" width="50">
                    </li>
                    {% endfor %}
                </ul>


                {% endblock %}
            </main>
        </div>
    </section>
    {% include 'footer.html' %}
</body>

</html>